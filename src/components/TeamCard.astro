---
interface Props {
  name: string;
  position: string;
  imagePath: string;
}

const { name, position, imagePath } = Astro.props;

import type { ImageMetadata } from "astro";
import { Picture } from "astro:assets";
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/team/*.{jpeg,jpg,png,gif}",
);
---

<div class="team-card">
  {
    imagePath && (
      <div class="team-card-cover">
        <Picture
          src={images[imagePath]()}
          formats={["jpeg", "webp"]}
          alt={name}
        />
      </div>
    )
  }

  {
    (name || position) && (
      <div class="team-card-text">
        <div class="team-card-name">{name}</div>
        <div class="team-card-position">{position}</div>
      </div>
    )
  }
</div>

<style>
  .team-card {
    display: flex;
    flex-direction: column;
    gap: 8px;
    font-size: 16px;
    line-height: 24px;
    letter-spacing: -0.48px;
    text-transform: uppercase;
    width: 296px;
    padding-bottom: 16px;
  }

  .team-card-cover img {
    width: 296px;
    height: 280px;
    object-fit: cover;
    vertical-align: top;
  }

  .team-card-position {
    color: rgba(22, 22, 25, 0.5);
  }

  @media screen and (min-width: 1025px) {
    .team-card {
      width: calc(50% - 8px);
      padding-bottom: 0;
    }

    .team-card:first-child {
      width: 100%;
    }

    .team-card-cover img {
      width: 100%;
      height: 480px;
    }
  }

  @media screen and (min-width: 1360px) {
    .team-card {
      width: calc((100% - 16px) / 4 - 8px);
      padding-bottom: 0;
    }

    .team-card:first-child {
      width: calc((100% - 16px) / 2);
      min-width: 640px;
    }

    .team-card-cover img {
      width: 100%;
      height: 480px;
    }
  }

  @media screen and (min-width: 1921px) {
    .team-card {
      width: calc((100% - 2vw) / 4 - 1vw);

      gap: 1vh;

      font-size: 2vh;
      line-height: 3vh;
      letter-spacing: -0.06vw;
    }

    .team-card:first-child {
      width: calc((100% - 2vw) / 2);
    }

    .team-card-cover img {
      width: 100%;
      height: 60vh;
    }
  }
</style>

---
interface Props {
  cards: Array<Card>;
}

interface Card {
  name: string;
  position: string;
  imagePath: string;
}

const { cards } = Astro.props;

import type { ImageMetadata } from "astro";
import { Picture } from "astro:assets";
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/team/*.{jpeg,jpg,png,gif}",
);
---

<section class="team-cards">
  {
    cards.map((card: Card) => (
      <div class="team-card">
        {card.imagePath && (
          <Picture
            src={images[card.imagePath]()}
            formats={["jpeg", "webp"]}
            alt={card.name}
          />
        )}

        {card.name && <div class="team-card-name">{card.name}</div>}
        {card.position && <div class="team-card-position">{card.position}</div>}
      </div>
    ))
  }
</section>